(()=>{"use strict";var e,t={847:(e,t,r)=>{var n=r(419),o=r.n(n);const a=document.querySelector(".js-masked-field__input");o()({alias:"datetime",placeholder:"ДД.ММ.ГГГГ",inputFormat:"dd.mm.yyyy"}).mask(a);var l=r(6),s=r(655),c=r.n(s);new l.ZP(".room-card__slider",{modules:[l.W_,l.tl],slidesPerView:"auto",pagination:{el:".js_room-card__pagination",type:"bullets",clickable:!0,bulletClass:"js-room-card__pagination-bullet",bulletActiveClass:"js-room-card__pagination-bullet_active"},navigation:{nextEl:".js-room-card__btn-next",prevEl:".js-room-card__btn-prev"}}),document.querySelectorAll(".js-room-card").forEach((e=>{const t=e.querySelector(".js-room-card__description-header-value"),r=c()({thousand:" ",suffix:"₽"}).to(Number(t.textContent));t.textContent=r}));var i=r(814);const d=(e,t={})=>{const{onClickApplyBtnHandler:r,newOpts:n={}}=t,o=document.getElementById(e);new i.Z(o,{range:!0,minDate:new Date,buttons:[{content:"очистить",attrs:{type:"button"},onClick:e=>e.clear()},{content:"Применить",attrs:{type:"button"},onClick:()=>{if(r)return r()}}],dateFormat:e=>e.toLocaleString("ru",{day:"2-digit",month:"short"}),prevHtml:'<span class="air-datepicker-prev"></span>',nextHtml:'<span class="air-datepicker-next"></span>',navTitles:{days:"MMMM yyyy"}}).update(n)},u=(e,t,r="")=>{const n=document.getElementById(e),o=n.querySelector(".js-calendar__date-picker"),a=n.querySelectorAll(".js-calendar__field"),l=n.querySelectorAll("input"),s=()=>{o.classList.toggle("js-calendar__date-picker_close")};a.forEach((e=>{e.addEventListener("click",s)})),d(t,"multiple"===r?{onClickApplyBtnHandler:s,newOpts:{onSelect:({formattedDate:e})=>{const[t,r]=e,[n,o]=l;n.value=t??"",o.value=r??""},dateFormat:e=>e.toLocaleString("ru",{year:"numeric",day:"2-digit",month:"2-digit"})}}:{onClickApplyBtnHandler:s,newOpts:{onSelect:({formattedDate:e})=>{const t=l[0],r=e.join(" - ");t.value=r}}}),o.addEventListener("click",(e=>{e.stopPropagation()})),document.addEventListener("click",(e=>{n.contains(e.target)||o.classList.add("js-calendar__date-picker_close")}))},p=(e,t)=>{if(0===e)return"";const r=Math.abs(e)%100,n=r%10;return r>10&&r<20?`${e} ${t[2]}`:n>1&&n<5?`${e} ${t[1]}`:1===n?`${e} ${t[0]}`:`${e} ${t[2]}`},_=e=>{const t=[["гость","гостя","гостей"],["младенец","младенца","младенцев"]];(({dropdownEl:e,wordsDeclensions:t="",onChangeTextValue:r=null})=>{const n=e.querySelector(".js-dropdown__input-wrapper"),o=e.querySelector(".js-dropdown__input"),a=e.querySelector(".js-dropdown__menu"),l=e.querySelectorAll(".js-amount-select__number"),s=e.querySelectorAll(".js-amount-select__btn_sign_minus"),c=e.querySelectorAll(".js-amount-select__btn_sign_plus"),i=e.querySelector(".js-dropdown__btn_clear"),d=e.querySelector(".js-dropdown__btn_apply"),u={},_=()=>{u.values=[...l].map((e=>Number(e.value))),u.totalCounts=[...l].reduce(((e,t)=>e+Number(t.value)),0)},m=()=>{_(),u.values.forEach(((e,t)=>{const r=l[t].previousElementSibling;0===e?r.setAttribute("disabled",!0):1===e&&r.removeAttribute("disabled")})),(()=>{if(0===u.totalCounts)o.value="";else if(r){const e=r(u.totalCounts,u.values);o.value=e}else{const e=t.map(((e,t)=>p(u.values[t],e))).filter((e=>""!==e)).join(", ");o.value=e}})(),0===u.totalCounts?i?.classList.add("js-dropdown__btn_hidden"):i?.classList.remove("js-dropdown__btn_hidden")},v=({target:e})=>{e.nextElementSibling.stepDown(),m()},y=({target:e})=>{e.previousElementSibling.stepUp(),m()};s.forEach((e=>{e.addEventListener("click",v)})),c.forEach((e=>{e.addEventListener("click",y)}));const b=()=>{a.classList.toggle("js-dropdown__menu_active")};n.addEventListener("click",b),d?.addEventListener("click",b),i?.addEventListener("click",(()=>{[...l].forEach((e=>{e.value=0})),_(),m()})),m(),document.addEventListener("click",(t=>{e.contains(t.target)||a.classList.remove("js-dropdown__menu_active")}))})({dropdownEl:e,onChangeTextValue:(e,r)=>[r[0]+r[1],r[2]].map(((e,r)=>p(e,t[r]))).filter((e=>""!==e)).join(", ")})};(()=>{const e=document.querySelector(".js-search-rooms-form__dropdown");_(e),u("search-rooms-form__calendar","search-rooms-form__datepicker","multiple")})(),(()=>{const e=document.querySelector(".js-booking-form__dropdown");_(e),u("booking-form__calendar","booking-form__datepicker","multiple")})(),d("main__third-column-datepicker")}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,o,a]=e[d],s=!0,c=0;c<r.length;c++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(s=!1,a<l&&(l=a));if(s){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={12:0,414:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,s,c]=r,i=0;if(l.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var d=c(n)}for(t&&t(r);i<l.length;i++)a=l[i],n.o(e,a)&&e[a]&&e[a][0](),e[l[i]]=0;return n.O(d)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[414,814,419,412],(()=>n(847)));o=n.O(o)})();
//# sourceMappingURL=cards.bundle.js.map